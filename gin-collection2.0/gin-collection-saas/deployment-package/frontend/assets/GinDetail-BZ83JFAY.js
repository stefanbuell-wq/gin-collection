import{c as F,r as h,p as S,t as K,j as e,X as A,b as P,u as O,W as B}from"./index-Dq7p2DR6.js";import{u as V}from"./ginStore-DEzGyET3.js";import{C as W,P as Z,F as q}from"./percent-Bc9ZX0Gd.js";import{m as t}from"./motion-EK-w8E6l.js";import{A as U}from"./alert-circle-DRaOH51V.js";import{L as M}from"./loader-2-BLgRaFfy.js";import{A as $}from"./index-DuCggoYX.js";import{S as C}from"./star-Bdosqaaw.js";import{T as R}from"./trash-2-CiDXigwN.js";import{I as J}from"./image-CiRCeIEC.js";import{A as X}from"./arrow-left-Ke8k2tn-.js";import{C as Y}from"./check-R9WvdGvo.js";import{S as Q}from"./save-DUlb5lYD.js";import{A as H}from"./alert-triangle-CNM-d7uF.js";import{D as ee}from"./droplets-DOTxJY_J.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=F("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=F("Euro",[["path",{d:"M4 10h12",key:"1y6xl8"}],["path",{d:"M4 14h9",key:"1loblj"}],["path",{d:"M19 6a7.7 7.7 0 0 0-5.2-2A7.9 7.9 0 0 0 6 12c0 4.4 3.5 8 7.8 8 2 0 3.8-.8 5.2-2",key:"1j6lzo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const se=F("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=F("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);function ne({ginId:g,onPhotoChange:x}){const[a,u]=h.useState([]),[y,L]=h.useState(!0),[v,f]=h.useState(!1),[k,r]=h.useState(null),[j,E]=h.useState(1),[N,l]=h.useState(null),p=h.useRef(null);h.useEffect(()=>{G(),z()},[g]);const G=async()=>{var s,n;try{const o=await S.getPhotos(g);(n=(s=o.data)==null?void 0:s.data)!=null&&n.photos&&u(o.data.data.photos)}catch(o){console.error("Failed to load photos:",o)}finally{L(!1)}},z=async()=>{var s,n,o,i;try{const c=await K.getUsage();(i=(o=(n=(s=c.data)==null?void 0:s.data)==null?void 0:n.usage)==null?void 0:o.photos)!=null&&i.per_gin_limit&&E(c.data.data.usage.photos.per_gin_limit)}catch(c){console.error("Failed to load limits:",c)}},d=async s=>{var o,i,c;const n=(o=s.target.files)==null?void 0:o[0];if(n){if(!n.type.startsWith("image/")){r("Bitte nur Bilddateien hochladen");return}if(n.size>10*1024*1024){r("Maximale Dateigröße: 10 MB");return}f(!0),r(null);try{const m=await S.upload(g,n,"bottle");(i=m.data)!=null&&i.data&&(u(w=>[...w,m.data.data]),x==null||x())}catch(m){((c=m.response)==null?void 0:c.status)===403?r(`Foto-Limit erreicht (${a.length}/${j}). Upgrade für mehr Fotos.`):r("Fehler beim Hochladen. Bitte erneut versuchen."),console.error("Upload failed:",m)}finally{f(!1),p.current&&(p.current.value="")}}},D=async s=>{if(confirm("Foto wirklich löschen?"))try{await S.delete(g,s),u(n=>n.filter(o=>o.id!==s)),x==null||x()}catch(n){r("Fehler beim Löschen"),console.error("Delete failed:",n)}},T=async s=>{try{await S.setPrimary(g,s),u(n=>n.map(o=>({...o,is_primary:o.id===s}))),x==null||x()}catch(n){r("Fehler beim Setzen des Hauptbildes"),console.error("Set primary failed:",n)}},_=a.length<j;return e.jsxs("div",{className:"photo-gallery",children:[e.jsxs("div",{className:"photo-gallery-header",children:[e.jsxs("h3",{children:[e.jsx(W,{size:20}),"Fotos"]}),e.jsxs("div",{className:"photo-limit-badge",children:[a.length," / ",j]})]}),k&&e.jsxs(t.div,{className:"photo-gallery-error",initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[e.jsx(U,{size:16}),e.jsx("span",{children:k}),e.jsx("button",{onClick:()=>r(null),children:e.jsx(A,{size:14})})]}),e.jsxs("div",{className:"photo-gallery-grid",children:[_&&e.jsx(t.button,{className:"photo-upload-btn",onClick:()=>{var s;return(s=p.current)==null?void 0:s.click()},disabled:v,whileHover:{scale:1.02},whileTap:{scale:.98},children:v?e.jsxs(e.Fragment,{children:[e.jsx(M,{className:"spinner",size:24}),e.jsx("span",{children:"Lädt hoch..."})]}):e.jsxs(e.Fragment,{children:[e.jsx(le,{size:24}),e.jsx("span",{children:"Foto hinzufügen"})]})}),e.jsx($,{children:a.map(s=>e.jsxs(t.div,{className:`photo-item ${s.is_primary?"photo-item--primary":""}`,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},layout:!0,children:[e.jsx("img",{src:s.photo_url,alt:s.caption||"Gin Foto",onClick:()=>l(s)}),s.is_primary&&e.jsxs("div",{className:"photo-primary-badge",children:[e.jsx(C,{size:12}),"Hauptbild"]}),e.jsxs("div",{className:"photo-actions",children:[!s.is_primary&&e.jsx("button",{className:"photo-action-btn",onClick:()=>T(s.id),title:"Als Hauptbild setzen",children:e.jsx(C,{size:16})}),e.jsx("button",{className:"photo-action-btn photo-action-btn--delete",onClick:()=>D(s.id),title:"Löschen",children:e.jsx(R,{size:16})})]})]},s.id))}),!y&&a.length===0&&!_&&e.jsxs("div",{className:"photo-empty",children:[e.jsx(J,{size:32}),e.jsx("p",{children:"Keine Fotos vorhanden"})]}),y&&e.jsx("div",{className:"photo-loading",children:e.jsx(M,{className:"spinner",size:24})})]}),!_&&a.length>0&&e.jsxs("div",{className:"photo-limit-warning",children:[e.jsx(U,{size:16}),e.jsxs("span",{children:["Foto-Limit erreicht. ",e.jsx("a",{href:"/subscription",children:"Upgrade"})," für mehr Fotos."]})]}),e.jsx("input",{ref:p,type:"file",accept:"image/*",onChange:d,style:{display:"none"}}),e.jsx($,{children:N&&e.jsxs(t.div,{className:"photo-lightbox",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>l(null),children:[e.jsx(t.img,{src:N.photo_url,alt:N.caption||"Gin Foto",initial:{scale:.8,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.8,opacity:0},onClick:s=>s.stopPropagation()}),e.jsx("button",{className:"lightbox-close",onClick:()=>l(null),children:e.jsx(A,{size:24})})]})})]})}const te=["London Dry","Plymouth","Old Tom","Genever","New Western","Navy Strength","Sloe Gin","Flavoured Gin","Other"],de=["Germany","United Kingdom","Scotland","Spain","Netherlands","Belgium","France","Italy","USA","Japan","Australia","Other"],re=[50,100,200,350,500,700,750,1e3,1500],ke=()=>{const{id:g}=P(),x=O(),{currentGin:a,fetchGin:u,updateGin:y,deleteGin:L,isLoading:v,error:f,clearError:k}=V(),[r,j]=h.useState(!1),[E,N]=h.useState(!1),[l,p]=h.useState({}),[G,z]=h.useState(!1);h.useEffect(()=>{g&&u(parseInt(g))},[g,u]),h.useEffect(()=>{var i;a&&p({name:a.name,brand:a.brand||"",country:a.country||"",region:a.region||"",gin_type:a.gin_type||"",abv:a.abv,bottle_size:a.bottle_size,fill_level:a.fill_level,price:a.price,current_market_value:a.current_market_value,barcode:a.barcode||"",purchase_date:((i=a.purchase_date)==null?void 0:i.split("T")[0])||"",purchase_location:a.purchase_location||"",rating:a.rating,nose_notes:a.nose_notes||"",palate_notes:a.palate_notes||"",finish_notes:a.finish_notes||"",general_notes:a.general_notes||"",description:a.description||"",recommended_tonic:a.recommended_tonic||"",recommended_garnish:a.recommended_garnish||"",is_finished:a.is_finished})},[a]);const d=i=>{const{name:c,value:m,type:w}=i.target;if(w==="checkbox"){const b=i.target.checked;p(I=>({...I,[c]:b}))}else p(w==="number"?b=>({...b,[c]:m===""?void 0:parseFloat(m)}):b=>({...b,[c]:m}))},D=i=>{p(c=>({...c,rating:c.rating===i?void 0:i}))},T=async()=>{if(g){k();try{const i={...l};Object.keys(i).forEach(c=>{const m=c;i[m]===""&&(i[m]=void 0)}),await y(parseInt(g),i),j(!1),z(!0),setTimeout(()=>z(!1),3e3)}catch(i){console.error("Failed to update gin:",i)}}},_=async()=>{if(g)try{await L(parseInt(g)),x("/gins")}catch(i){console.error("Failed to delete gin:",i)}},s=()=>{var i;j(!1),a&&p({name:a.name,brand:a.brand||"",country:a.country||"",region:a.region||"",gin_type:a.gin_type||"",abv:a.abv,bottle_size:a.bottle_size,fill_level:a.fill_level,price:a.price,current_market_value:a.current_market_value,barcode:a.barcode||"",purchase_date:((i=a.purchase_date)==null?void 0:i.split("T")[0])||"",purchase_location:a.purchase_location||"",rating:a.rating,nose_notes:a.nose_notes||"",palate_notes:a.palate_notes||"",finish_notes:a.finish_notes||"",general_notes:a.general_notes||"",description:a.description||"",recommended_tonic:a.recommended_tonic||"",recommended_garnish:a.recommended_garnish||"",is_finished:a.is_finished})},n={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}},o=(i,c=!1)=>e.jsxs("div",{className:"gin-detail-stars",children:[[1,2,3,4,5].map(m=>e.jsx("button",{type:"button",onClick:()=>c&&D(m),disabled:!c,className:`gin-detail-star ${i&&m<=i?"gin-detail-star--filled":"gin-detail-star--empty"}`,children:e.jsx(C,{})},m)),i&&e.jsxs("span",{className:"gin-detail-rating-text",children:[i,"/5"]})]});return v&&!a?e.jsxs("div",{className:"gin-detail-page",children:[e.jsxs("div",{className:"gin-detail-page__ambient",children:[e.jsx("div",{className:"gin-detail-ambient-orb gin-detail-ambient-orb--1"}),e.jsx("div",{className:"gin-detail-ambient-orb gin-detail-ambient-orb--2"})]}),e.jsx("div",{className:"gin-detail-container",children:e.jsxs("div",{className:"gin-detail-loading",children:[e.jsx("div",{className:"gin-detail-loading__spinner"}),e.jsx("span",{className:"gin-detail-loading__text",children:"Lade Gin-Details..."})]})})]}):a?e.jsxs("div",{className:"gin-detail-page",children:[e.jsxs("div",{className:"gin-detail-page__ambient",children:[e.jsx("div",{className:"gin-detail-ambient-orb gin-detail-ambient-orb--1"}),e.jsx("div",{className:"gin-detail-ambient-orb gin-detail-ambient-orb--2"}),e.jsx("div",{className:"gin-detail-ambient-orb gin-detail-ambient-orb--3"})]}),e.jsxs("div",{className:"gin-detail-container",children:[e.jsxs(t.div,{className:"gin-detail-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsxs("div",{className:"gin-detail-header__left",children:[e.jsx(t.button,{onClick:()=>x("/gins"),className:"gin-detail-back-btn",whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(X,{size:22})}),e.jsxs("div",{className:"gin-detail-header__info",children:[e.jsx("h1",{className:"gin-detail-header__title",children:r?"Gin bearbeiten":a.name}),!r&&a.brand&&e.jsx("span",{className:"gin-detail-header__brand",children:a.brand})]})]}),e.jsxs("div",{className:"gin-detail-header__actions",children:[G&&e.jsxs(t.span,{className:"gin-detail-success",initial:{opacity:0,x:10},animate:{opacity:1,x:0},children:[e.jsx(Y,{size:16}),"Gespeichert"]}),r?e.jsxs(e.Fragment,{children:[e.jsxs(t.button,{onClick:s,className:"gin-detail-btn gin-detail-btn--secondary",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(A,{size:18}),"Abbrechen"]}),e.jsxs(t.button,{onClick:T,disabled:v,className:"gin-detail-btn gin-detail-btn--primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:[v?e.jsx("span",{className:"gin-detail-spinner"}):e.jsx(Q,{size:18}),"Speichern"]})]}):e.jsxs(e.Fragment,{children:[e.jsxs(t.button,{onClick:()=>j(!0),className:"gin-detail-btn gin-detail-btn--secondary",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(se,{size:18}),"Bearbeiten"]}),e.jsxs(t.button,{onClick:()=>N(!0),className:"gin-detail-btn gin-detail-btn--danger",whileHover:{scale:1.02},whileTap:{scale:.98},children:[e.jsx(R,{size:18}),"Loschen"]})]})]})]}),f&&e.jsxs(t.div,{className:"gin-detail-error",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},children:[e.jsx(H,{size:18}),e.jsx("span",{children:f})]}),e.jsx(t.div,{initial:"hidden",animate:"visible",variants:n,transition:{duration:.4,delay:.1},children:e.jsx(ne,{ginId:a.id,onPhotoChange:()=>u(a.id)})}),e.jsxs(t.div,{className:"gin-detail-card",initial:"hidden",animate:"visible",variants:n,transition:{duration:.4,delay:.15},children:[e.jsxs("div",{className:"gin-detail-card__header",children:[e.jsx("div",{className:"gin-detail-card__icon",children:e.jsx(B,{size:20})}),e.jsx("h2",{className:"gin-detail-card__title",children:"Basis-Informationen"})]}),r?e.jsxs("div",{className:"gin-detail-form-grid",children:[e.jsxs("div",{className:"gin-detail-form-group gin-detail-form-group--full",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Name *"}),e.jsx("input",{type:"text",name:"name",value:l.name||"",onChange:d,className:"gin-detail-input",required:!0})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Marke"}),e.jsx("input",{type:"text",name:"brand",value:l.brand||"",onChange:d,className:"gin-detail-input"})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Gin-Typ"}),e.jsxs("select",{name:"gin_type",value:l.gin_type||"",onChange:d,className:"gin-detail-select",children:[e.jsx("option",{value:"",children:"Typ wahlen..."}),te.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Land"}),e.jsxs("select",{name:"country",value:l.country||"",onChange:d,className:"gin-detail-select",children:[e.jsx("option",{value:"",children:"Land wahlen..."}),de.map(i=>e.jsx("option",{value:i,children:i},i))]})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Region"}),e.jsx("input",{type:"text",name:"region",value:l.region||"",onChange:d,className:"gin-detail-input"})]}),e.jsxs("div",{className:"gin-detail-form-group gin-detail-form-group--full",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Beschreibung"}),e.jsx("textarea",{name:"description",value:l.description||"",onChange:d,rows:2,className:"gin-detail-textarea"})]})]}):e.jsxs("div",{className:"gin-detail-grid",children:[e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Name"}),e.jsx("span",{className:"gin-detail-info-value",children:a.name})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Marke"}),e.jsx("span",{className:`gin-detail-info-value ${a.brand?"":"gin-detail-info-value--muted"}`,children:a.brand||"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Typ"}),e.jsx("span",{className:`gin-detail-info-value ${a.gin_type?"":"gin-detail-info-value--muted"}`,children:a.gin_type||"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Land"}),e.jsx("span",{className:`gin-detail-info-value ${a.country?"":"gin-detail-info-value--muted"}`,children:a.country||"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Region"}),e.jsx("span",{className:`gin-detail-info-value ${a.region?"":"gin-detail-info-value--muted"}`,children:a.region||"-"})]}),a.description&&e.jsxs("div",{className:"gin-detail-info-item gin-detail-info-item--full",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Beschreibung"}),e.jsx("span",{className:"gin-detail-info-value",children:a.description})]})]})]}),e.jsxs(t.div,{className:"gin-detail-card",initial:"hidden",animate:"visible",variants:n,transition:{duration:.4,delay:.2},children:[e.jsxs("div",{className:"gin-detail-card__header",children:[e.jsx("div",{className:"gin-detail-card__icon",children:e.jsx(Z,{size:20})}),e.jsx("h2",{className:"gin-detail-card__title",children:"Technische Details"})]}),r?e.jsxs("div",{className:"gin-detail-form-grid",children:[e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"ABV (%)"}),e.jsx("input",{type:"number",name:"abv",value:l.abv??"",onChange:d,min:"0",max:"100",step:"0.1",className:"gin-detail-input"})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Flaschengrosse (ml)"}),e.jsxs("select",{name:"bottle_size",value:l.bottle_size??"",onChange:d,className:"gin-detail-select",children:[e.jsx("option",{value:"",children:"Grosse wahlen..."}),re.map(i=>e.jsxs("option",{value:i,children:[i," ml"]},i))]})]}),e.jsxs("div",{className:"gin-detail-form-group gin-detail-form-group--full",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Fullstand (%)"}),e.jsxs("div",{className:"gin-detail-range-wrapper",children:[e.jsx("input",{type:"range",name:"fill_level",value:l.fill_level??100,onChange:d,min:"0",max:"100",className:"gin-detail-range"}),e.jsxs("span",{className:"gin-detail-range-value",children:[l.fill_level??100,"%"]})]})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Barcode"}),e.jsx("input",{type:"text",name:"barcode",value:l.barcode||"",onChange:d,className:"gin-detail-input"})]}),e.jsx("div",{className:"gin-detail-form-group",children:e.jsxs("label",{className:"gin-detail-checkbox-label",children:[e.jsx("input",{type:"checkbox",name:"is_finished",checked:l.is_finished||!1,onChange:d,className:"gin-detail-checkbox"}),e.jsx("span",{className:"gin-detail-checkbox-text",children:"Flasche ist leer"})]})})]}):e.jsxs("div",{className:"gin-detail-grid gin-detail-grid--4",children:[e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"ABV"}),e.jsx("span",{className:`gin-detail-info-value ${a.abv?"":"gin-detail-info-value--muted"}`,children:a.abv?`${a.abv}%`:"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Flaschengrosse"}),e.jsx("span",{className:`gin-detail-info-value ${a.bottle_size?"":"gin-detail-info-value--muted"}`,children:a.bottle_size?`${a.bottle_size} ml`:"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Fullstand"}),e.jsxs("div",{className:"gin-detail-fill-level",children:[e.jsx("div",{className:"gin-detail-fill-bar",children:e.jsx("div",{className:"gin-detail-fill-bar__progress",style:{width:`${a.fill_level||0}%`}})}),e.jsxs("span",{className:"gin-detail-fill-bar__text",children:[a.fill_level||0,"%"]})]})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Status"}),e.jsx("span",{className:`gin-detail-info-value ${a.is_finished?"gin-detail-info-value--muted":"gin-detail-info-value--success"}`,children:a.is_finished?"Leer":"Verfugbar"})]}),a.barcode&&e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Barcode"}),e.jsx("span",{className:"gin-detail-info-value gin-detail-info-value--mono",children:a.barcode})]})]})]}),e.jsxs(t.div,{className:"gin-detail-card",initial:"hidden",animate:"visible",variants:n,transition:{duration:.4,delay:.25},children:[e.jsxs("div",{className:"gin-detail-card__header",children:[e.jsx("div",{className:"gin-detail-card__icon",children:e.jsx(ie,{size:20})}),e.jsx("h2",{className:"gin-detail-card__title",children:"Kaufinformationen"})]}),r?e.jsxs("div",{className:"gin-detail-form-grid",children:[e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Kaufpreis (EUR)"}),e.jsx("input",{type:"number",name:"price",value:l.price??"",onChange:d,min:"0",step:"0.01",className:"gin-detail-input"})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Aktueller Marktwert (EUR)"}),e.jsx("input",{type:"number",name:"current_market_value",value:l.current_market_value??"",onChange:d,min:"0",step:"0.01",className:"gin-detail-input"})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Kaufdatum"}),e.jsx("input",{type:"date",name:"purchase_date",value:l.purchase_date||"",onChange:d,className:"gin-detail-input"})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Kaufort"}),e.jsx("input",{type:"text",name:"purchase_location",value:l.purchase_location||"",onChange:d,className:"gin-detail-input"})]})]}):e.jsxs("div",{className:"gin-detail-grid gin-detail-grid--4",children:[e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Kaufpreis"}),e.jsx("span",{className:`gin-detail-info-value ${a.price?"":"gin-detail-info-value--muted"}`,children:a.price?`${a.price.toFixed(2)} EUR`:"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Marktwert"}),e.jsx("span",{className:`gin-detail-info-value ${a.current_market_value?"":"gin-detail-info-value--muted"}`,children:a.current_market_value?`${a.current_market_value.toFixed(2)} EUR`:"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Kaufdatum"}),e.jsx("span",{className:`gin-detail-info-value ${a.purchase_date?"":"gin-detail-info-value--muted"}`,children:a.purchase_date?new Date(a.purchase_date).toLocaleDateString("de-DE"):"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Kaufort"}),e.jsx("span",{className:`gin-detail-info-value ${a.purchase_location?"":"gin-detail-info-value--muted"}`,children:a.purchase_location||"-"})]})]})]}),e.jsxs(t.div,{className:"gin-detail-card gin-detail-card--accent",initial:"hidden",animate:"visible",variants:n,transition:{duration:.4,delay:.3},children:[e.jsxs("div",{className:"gin-detail-card__header",children:[e.jsx("div",{className:"gin-detail-card__icon",children:e.jsx(C,{size:20})}),e.jsx("h2",{className:"gin-detail-card__title",children:"Bewertung"})]}),o(r?l.rating:a.rating,r)]}),e.jsxs(t.div,{className:"gin-detail-card",initial:"hidden",animate:"visible",variants:n,transition:{duration:.4,delay:.35},children:[e.jsxs("div",{className:"gin-detail-card__header",children:[e.jsx("div",{className:"gin-detail-card__icon",children:e.jsx(q,{size:20})}),e.jsx("h2",{className:"gin-detail-card__title",children:"Verkostungsnotizen"})]}),r?e.jsxs("div",{className:"gin-detail-notes",children:[e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Nase"}),e.jsx("textarea",{name:"nose_notes",value:l.nose_notes||"",onChange:d,rows:2,className:"gin-detail-textarea",placeholder:"Aromen und Dufte..."})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Gaumen"}),e.jsx("textarea",{name:"palate_notes",value:l.palate_notes||"",onChange:d,rows:2,className:"gin-detail-textarea",placeholder:"Geschmack und Flavors..."})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Abgang"}),e.jsx("textarea",{name:"finish_notes",value:l.finish_notes||"",onChange:d,rows:2,className:"gin-detail-textarea",placeholder:"Nachgeschmack und Finish..."})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Allgemeine Notizen"}),e.jsx("textarea",{name:"general_notes",value:l.general_notes||"",onChange:d,rows:2,className:"gin-detail-textarea",placeholder:"Weitere Beobachtungen..."})]})]}):e.jsxs("div",{className:"gin-detail-notes",children:[a.nose_notes&&e.jsxs("div",{className:"gin-detail-note",children:[e.jsx("span",{className:"gin-detail-note__label",children:"Nase"}),e.jsx("span",{className:"gin-detail-note__value",children:a.nose_notes})]}),a.palate_notes&&e.jsxs("div",{className:"gin-detail-note",children:[e.jsx("span",{className:"gin-detail-note__label",children:"Gaumen"}),e.jsx("span",{className:"gin-detail-note__value",children:a.palate_notes})]}),a.finish_notes&&e.jsxs("div",{className:"gin-detail-note",children:[e.jsx("span",{className:"gin-detail-note__label",children:"Abgang"}),e.jsx("span",{className:"gin-detail-note__value",children:a.finish_notes})]}),a.general_notes&&e.jsxs("div",{className:"gin-detail-note",children:[e.jsx("span",{className:"gin-detail-note__label",children:"Allgemeine Notizen"}),e.jsx("span",{className:"gin-detail-note__value",children:a.general_notes})]}),!a.nose_notes&&!a.palate_notes&&!a.finish_notes&&!a.general_notes&&e.jsx("p",{className:"gin-detail-note gin-detail-note--empty",children:"Noch keine Verkostungsnotizen"})]})]}),e.jsxs(t.div,{className:"gin-detail-card",initial:"hidden",animate:"visible",variants:n,transition:{duration:.4,delay:.4},children:[e.jsxs("div",{className:"gin-detail-card__header",children:[e.jsx("div",{className:"gin-detail-card__icon",children:e.jsx(ee,{size:20})}),e.jsx("h2",{className:"gin-detail-card__title",children:"Serviervorschlage"})]}),r?e.jsxs("div",{className:"gin-detail-form-grid",children:[e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Empfohlenes Tonic"}),e.jsx("input",{type:"text",name:"recommended_tonic",value:l.recommended_tonic||"",onChange:d,className:"gin-detail-input",placeholder:"z.B. Fever-Tree Mediterranean"})]}),e.jsxs("div",{className:"gin-detail-form-group",children:[e.jsx("label",{className:"gin-detail-form-label",children:"Empfohlene Garnitur"}),e.jsx("input",{type:"text",name:"recommended_garnish",value:l.recommended_garnish||"",onChange:d,className:"gin-detail-input",placeholder:"z.B. Grapefruit-Schale"})]})]}):e.jsxs("div",{className:"gin-detail-grid gin-detail-grid--2",children:[e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Empfohlenes Tonic"}),e.jsx("span",{className:`gin-detail-info-value ${a.recommended_tonic?"":"gin-detail-info-value--muted"}`,children:a.recommended_tonic||"-"})]}),e.jsxs("div",{className:"gin-detail-info-item",children:[e.jsx("span",{className:"gin-detail-info-label",children:"Empfohlene Garnitur"}),e.jsx("span",{className:`gin-detail-info-value ${a.recommended_garnish?"":"gin-detail-info-value--muted"}`,children:a.recommended_garnish||"-"})]})]})]}),e.jsxs(t.div,{className:"gin-detail-card gin-detail-card--muted",initial:"hidden",animate:"visible",variants:n,transition:{duration:.4,delay:.45},children:[e.jsxs("div",{className:"gin-detail-card__header",children:[e.jsx("div",{className:"gin-detail-card__icon",style:{background:"rgba(255,255,255,0.1)",color:"var(--text-muted)"},children:e.jsx(ae,{size:20})}),e.jsx("h2",{className:"gin-detail-card__title",style:{color:"var(--text-secondary)"},children:"Metadaten"})]}),e.jsxs("div",{className:"gin-detail-metadata-grid",children:[e.jsxs("div",{className:"gin-detail-metadata-item",children:[e.jsx("span",{className:"gin-detail-metadata-label",children:"Hinzugefugt"}),e.jsx("span",{className:"gin-detail-metadata-value",children:new Date(a.created_at).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e.jsxs("div",{className:"gin-detail-metadata-item",children:[e.jsx("span",{className:"gin-detail-metadata-label",children:"Zuletzt aktualisiert"}),e.jsx("span",{className:"gin-detail-metadata-value",children:new Date(a.updated_at).toLocaleDateString("de-DE",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})]}),e.jsx($,{children:E&&e.jsx(t.div,{className:"gin-detail-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:e.jsxs(t.div,{className:"gin-detail-modal",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[e.jsxs("div",{className:"gin-detail-modal__header",children:[e.jsx("div",{className:"gin-detail-modal__header-icon",children:e.jsx(H,{size:24})}),e.jsx("h3",{children:"Gin loschen?"})]}),e.jsx("div",{className:"gin-detail-modal__body",children:e.jsxs("p",{children:['Bist du sicher, dass du "',a.name,'" loschen mochtest? Diese Aktion kann nicht ruckgangig gemacht werden.']})}),e.jsxs("div",{className:"gin-detail-modal__actions",children:[e.jsx("button",{onClick:()=>N(!1),className:"gin-detail-modal__btn gin-detail-modal__btn--secondary",children:"Abbrechen"}),e.jsx("button",{onClick:_,className:"gin-detail-modal__btn gin-detail-modal__btn--danger",children:"Loschen"})]})]})})})]}):e.jsxs("div",{className:"gin-detail-page",children:[e.jsxs("div",{className:"gin-detail-page__ambient",children:[e.jsx("div",{className:"gin-detail-ambient-orb gin-detail-ambient-orb--1"}),e.jsx("div",{className:"gin-detail-ambient-orb gin-detail-ambient-orb--2"})]}),e.jsx("div",{className:"gin-detail-container",children:e.jsxs("div",{className:"gin-detail-not-found",children:[e.jsx(B,{}),e.jsx("h3",{className:"gin-detail-not-found__title",children:"Gin nicht gefunden"}),e.jsx("p",{className:"gin-detail-not-found__text",children:"Dieser Gin existiert nicht oder wurde geloscht."}),e.jsx(t.button,{onClick:()=>x("/gins"),className:"gin-detail-btn gin-detail-btn--primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Zuruck zur Sammlung"})]})})]})};export{ke as default};
