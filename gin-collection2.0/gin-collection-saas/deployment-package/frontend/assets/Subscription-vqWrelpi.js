import{c as T,a as Q,r as o,j as s,C as _,U as ss,X as l,s as A,t as is}from"./index-Dq7p2DR6.js";import{m as c}from"./motion-EK-w8E6l.js";import{Z as y}from"./zap-C7iQPdWc.js";import{C as G}from"./crown-BLRehSOs.js";import{I as es}from"./image-CiRCeIEC.js";import{C as F}from"./calendar-D_O8bBdm.js";import{C as d}from"./check-R9WvdGvo.js";import{S as ns}from"./sparkles-BiJaVdz3.js";import{A as g}from"./alert-triangle-CNM-d7uF.js";import{A as I}from"./index-DuCggoYX.js";import{B as as}from"./building-2-Dt3MgnjI.js";import{S as ts}from"./star-Bdosqaaw.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=T("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=T("HardDrive",[["line",{x1:"22",x2:"2",y1:"12",y2:"12",key:"1y58io"}],["path",{d:"M5.45 5.11 2 12v6a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-6l-3.45-6.89A2 2 0 0 0 16.76 4H7.24a2 2 0 0 0-1.79 1.11z",key:"oot6mr"}],["line",{x1:"6",x2:"6.01",y1:"16",y2:"16",key:"sgf278"}],["line",{x1:"10",x2:"10.01",y1:"16",y2:"16",key:"1l4acy"}]]),N=[{id:"free",name:"Free",tier:"free",description:"Perfekt zum Ausprobieren",price_monthly:0,price_yearly:0,features:["Bis zu 25 Gins","3 Fotos pro Gin","Basis-Statistiken","Community Support"],limits:{max_gins:25,max_photos_per_gin:3,features:["basic_stats"]}},{id:"basic",name:"Basic",tier:"basic",description:"Fur Hobby-Sammler",price_monthly:4.99,price_yearly:49.99,features:["Bis zu 100 Gins","10 Fotos pro Gin","Erweiterte Statistiken","Export-Funktion","E-Mail Support"],limits:{max_gins:100,max_photos_per_gin:10,features:["basic_stats","advanced_stats","export"]}},{id:"pro",name:"Pro",tier:"pro",description:"Fur ernsthafte Sammler",price_monthly:9.99,price_yearly:99.99,features:["Bis zu 500 Gins","25 Fotos pro Gin","Alle Statistiken","API-Zugang","Priority Support","Barcode-Scanner"],limits:{max_gins:500,max_photos_per_gin:25,features:["basic_stats","advanced_stats","export","api_access","barcode_scanner"]}},{id:"enterprise",name:"Enterprise",tier:"enterprise",description:"Fur Bars & Handler",price_monthly:29.99,price_yearly:299.99,features:["Unbegrenzte Gins","Unbegrenzte Fotos","Team-Verwaltung","White-Label Option","Dedizierter Support","Custom Integrations","SLA-Garantie"],limits:{max_gins:-1,max_photos_per_gin:-1,features:["basic_stats","advanced_stats","export","api_access","barcode_scanner","team_management","white_label"]}}],L={free:s.jsx(y,{size:20}),basic:s.jsx(ts,{size:20}),pro:s.jsx(G,{size:20}),enterprise:s.jsx(as,{size:20})},gs=()=>{const{tenant:v,setTenant:Z}=Q(),[p,S]=o.useState("monthly"),[x,H]=o.useState(null),[f,C]=o.useState(!1),[z,w]=o.useState(!1),[O,E]=o.useState(!1),[V,k]=o.useState(!1),[h,U]=o.useState(null),[B,m]=o.useState(""),[$,W]=o.useState(""),t=(v==null?void 0:v.tier)||"free",e=N.find(i=>i.tier===t);o.useEffect(()=>{(async()=>{var a;try{const r=(await A.getCurrent()).data;r.success&&((a=r.data)!=null&&a.subscription)&&U(r.data.subscription)}catch(n){console.error("Failed to load subscription:",n)}})()},[]);const P=async i=>{H(i),m(""),E(!0)},Y=async()=>{var i,a,n;if(x){C(!0),m("");try{const r=K(x,p),u=(await A.upgrade(r,p)).data;u.success&&((i=u.data)!=null&&i.paypal_approval_url)?window.location.href=u.data.paypal_approval_url:m("Upgrade konnte nicht gestartet werden. Bitte versuche es erneut.")}catch(r){console.error("Upgrade failed:",r),m(((n=(a=r.response)==null?void 0:a.data)==null?void 0:n.error)||"Upgrade fehlgeschlagen. Bitte versuche es erneut.")}finally{C(!1)}}},J=async()=>{var i;w(!0);try{await A.cancel(),k(!1);const n=(await is.getCurrent()).data;n.success&&((i=n.data)!=null&&i.tenant)&&Z(n.data.tenant),U(null)}catch(a){console.error("Cancel failed:",a)}finally{w(!1)}},K=(i,a)=>{var r;return((r={basic:{monthly:"PLAN_BASIC_MONTHLY",yearly:"PLAN_BASIC_YEARLY"},pro:{monthly:"PLAN_PRO_MONTHLY",yearly:"PLAN_PRO_YEARLY"},enterprise:{monthly:"PLAN_ENTERPRISE",yearly:"PLAN_ENTERPRISE"}}[i])==null?void 0:r[a])||i},q=i=>{const a=i.price_monthly*12,n=a-i.price_yearly;return n>0?Math.round(n/a*100):0},M=i=>p==="yearly"?i.price_yearly:i.price_monthly,R=i=>{const a=["free","basic","pro","enterprise"];return a.indexOf(i.tier)>a.indexOf(t)},b={hidden:{opacity:0,y:20},visible:{opacity:1,y:0}};return s.jsxs("div",{className:"subscription-page",children:[s.jsxs("div",{className:"subscription-page__ambient",children:[s.jsx("div",{className:"subscription-ambient-orb subscription-ambient-orb--1"}),s.jsx("div",{className:"subscription-ambient-orb subscription-ambient-orb--2"}),s.jsx("div",{className:"subscription-ambient-orb subscription-ambient-orb--3"})]}),s.jsxs("div",{className:"subscription-container",children:[s.jsxs(c.div,{className:"subscription-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"subscription-header__content",children:[s.jsx("div",{className:"subscription-header__icon",children:s.jsx(_,{size:28})}),s.jsxs("div",{className:"subscription-header__text",children:[s.jsx("h1",{children:"Abonnement"}),s.jsx("p",{children:"Verwalte dein Abonnement und wahle den passenden Plan"})]})]}),t!=="enterprise"&&s.jsxs(c.button,{className:"subscription-upgrade-btn",onClick:()=>{var i;return(i=document.getElementById("plans"))==null?void 0:i.scrollIntoView({behavior:"smooth"})},whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsx(y,{size:18}),"Upgrade"]})]}),s.jsxs(c.div,{className:"subscription-card",initial:"hidden",animate:"visible",variants:b,transition:{duration:.5,delay:.1},children:[s.jsx("div",{className:"subscription-card__header",children:s.jsxs("div",{className:"subscription-card__title",children:[s.jsx("div",{className:"subscription-card__title-icon",children:s.jsx(G,{size:20})}),s.jsx("h2",{children:"Aktueller Plan"})]})}),s.jsx("div",{className:"subscription-current",children:s.jsxs("div",{className:"subscription-current__info",children:[s.jsx("div",{className:"subscription-current__tier",children:s.jsxs("span",{className:`subscription-tier-badge subscription-tier-badge--${t}`,children:[L[t],e==null?void 0:e.name]})}),s.jsx("span",{className:"subscription-current__price",children:(e==null?void 0:e.price_monthly)===0?"Kostenlos":`${e==null?void 0:e.price_monthly} EUR/Monat`})]})}),s.jsxs("div",{className:"subscription-stats-grid",children:[s.jsxs("div",{className:"subscription-stat-item",children:[s.jsx("div",{className:"subscription-stat-item__icon",children:s.jsx(rs,{size:20})}),s.jsxs("div",{className:"subscription-stat-item__content",children:[s.jsx("span",{className:"subscription-stat-item__label",children:"Max. Gins"}),s.jsx("span",{className:"subscription-stat-item__value",children:(e==null?void 0:e.limits.max_gins)===-1?"Unbegrenzt":e==null?void 0:e.limits.max_gins})]})]}),s.jsxs("div",{className:"subscription-stat-item",children:[s.jsx("div",{className:"subscription-stat-item__icon",children:s.jsx(es,{size:20})}),s.jsxs("div",{className:"subscription-stat-item__content",children:[s.jsx("span",{className:"subscription-stat-item__label",children:"Fotos pro Gin"}),s.jsx("span",{className:"subscription-stat-item__value",children:(e==null?void 0:e.limits.max_photos_per_gin)===-1?"Unbegrenzt":e==null?void 0:e.limits.max_photos_per_gin})]})]}),s.jsxs("div",{className:"subscription-stat-item",children:[s.jsx("div",{className:"subscription-stat-item__icon",children:s.jsx(ss,{size:20})}),s.jsxs("div",{className:"subscription-stat-item__content",children:[s.jsx("span",{className:"subscription-stat-item__label",children:"Team-Mitglieder"}),s.jsx("span",{className:"subscription-stat-item__value",children:t==="enterprise"?"Unbegrenzt":t==="pro"?"5":"1"})]})]})]})]}),s.jsxs(c.div,{className:"subscription-card",initial:"hidden",animate:"visible",variants:b,transition:{duration:.5,delay:.2},children:[s.jsx("div",{className:"subscription-card__header",children:s.jsxs("div",{className:"subscription-card__title",children:[s.jsx("div",{className:"subscription-card__title-icon",children:s.jsx(_,{size:20})}),s.jsx("h2",{children:"Zahlungsinformationen"})]})}),s.jsxs("div",{className:"subscription-billing-grid",children:[s.jsxs("div",{className:"subscription-billing-item",children:[s.jsx("span",{className:"subscription-billing-item__label",children:"Zahlungsmethode"}),t==="free"?s.jsxs("div",{className:"subscription-billing-box subscription-billing-box--empty",children:[s.jsx(_,{size:32}),s.jsx("p",{children:"Keine Zahlungsmethode erforderlich"}),s.jsx("span",{children:"Upgrade um Zahlungsmethode hinzuzufugen"})]}):s.jsx("div",{className:"subscription-billing-box",children:s.jsxs("div",{className:"subscription-billing-content",children:[s.jsx("div",{className:"subscription-billing-content__icon",children:s.jsx(_,{size:20})}),s.jsxs("div",{className:"subscription-billing-content__info",children:[s.jsx("span",{className:"subscription-billing-content__title",children:"PayPal"}),s.jsx("span",{className:"subscription-billing-content__subtitle",children:"Verbunden"})]}),s.jsx("button",{className:"subscription-billing-content__action",children:"Andern"})]})})]}),s.jsxs("div",{className:"subscription-billing-item",children:[s.jsx("span",{className:"subscription-billing-item__label",children:"Abrechnungszeitraum"}),t==="free"?s.jsxs("div",{className:"subscription-billing-box subscription-billing-box--empty",children:[s.jsx(F,{size:32}),s.jsx("p",{children:"Kein Abrechnungszeitraum"}),s.jsx("span",{children:"Kostenloser Plan ohne Abrechnung"})]}):s.jsx("div",{className:"subscription-billing-box",children:s.jsxs("div",{className:"subscription-billing-content",children:[s.jsx("div",{className:"subscription-billing-content__icon",children:s.jsx(F,{size:20})}),s.jsxs("div",{className:"subscription-billing-content__info",children:[s.jsx("span",{className:"subscription-billing-content__title",children:(h==null?void 0:h.billing_cycle)==="yearly"?"Jahrlich":"Monatlich"}),s.jsx("span",{className:"subscription-billing-content__subtitle",children:h!=null&&h.next_billing_date?`Nachste Abrechnung: ${new Date(h.next_billing_date).toLocaleDateString("de-DE")}`:"Aktives Abonnement"})]})]})})]})]}),t!=="free"&&s.jsxs("div",{className:"subscription-invoices",children:[s.jsx("span",{className:"subscription-invoices__title",children:"Rechnungshistorie"}),s.jsxs("table",{className:"subscription-invoices-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Datum"}),s.jsx("th",{children:"Beschreibung"}),s.jsx("th",{children:"Betrag"}),s.jsx("th",{children:"Status"}),s.jsx("th",{})]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"15. Jan 2026"}),s.jsxs("td",{style:{color:"var(--text-secondary)"},children:[e==null?void 0:e.name," Plan - Monatlich"]}),s.jsxs("td",{children:[e==null?void 0:e.price_monthly," EUR"]}),s.jsx("td",{children:s.jsx("span",{className:"subscription-invoice-status subscription-invoice-status--paid",children:"Bezahlt"})}),s.jsx("td",{children:s.jsx("button",{className:"subscription-invoice-pdf",children:"PDF"})})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"15. Dez 2025"}),s.jsxs("td",{style:{color:"var(--text-secondary)"},children:[e==null?void 0:e.name," Plan - Monatlich"]}),s.jsxs("td",{children:[e==null?void 0:e.price_monthly," EUR"]}),s.jsx("td",{children:s.jsx("span",{className:"subscription-invoice-status subscription-invoice-status--paid",children:"Bezahlt"})}),s.jsx("td",{children:s.jsx("button",{className:"subscription-invoice-pdf",children:"PDF"})})]})]})]})]})]}),s.jsxs(c.div,{id:"plans",className:"subscription-card",initial:"hidden",animate:"visible",variants:b,transition:{duration:.5,delay:.3},children:[s.jsxs("div",{className:"subscription-plans-header",children:[s.jsxs("div",{className:"subscription-plans-header__info",children:[s.jsx("h2",{children:"Verfugbare Plane"}),s.jsx("p",{children:"Wahle den Plan, der am besten zu dir passt"})]}),s.jsxs("div",{className:"subscription-billing-toggle",children:[s.jsx("button",{onClick:()=>S("monthly"),className:`subscription-billing-toggle__btn ${p==="monthly"?"subscription-billing-toggle__btn--active":""}`,children:"Monatlich"}),s.jsxs("button",{onClick:()=>S("yearly"),className:`subscription-billing-toggle__btn ${p==="yearly"?"subscription-billing-toggle__btn--active":""}`,children:["Jahrlich",s.jsx("span",{className:"subscription-billing-toggle__badge",children:"-17%"})]})]})]}),s.jsx("div",{className:"subscription-plans-grid",children:N.map((i,a)=>{const n=i.tier===t,r=R(i),j=q(i);return s.jsxs(c.div,{className:`subscription-plan-card ${n?"subscription-plan-card--current":""} ${i.tier==="pro"&&!n?"subscription-plan-card--popular":""}`,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.4,delay:.4+a*.1},children:[i.tier==="pro"&&!n&&s.jsx("span",{className:"subscription-plan-badge subscription-plan-badge--popular",children:"Beliebt"}),n&&s.jsx("span",{className:"subscription-plan-badge subscription-plan-badge--current",children:"Aktueller Plan"}),s.jsxs("div",{className:"subscription-plan-header",children:[s.jsx("div",{className:`subscription-plan-icon subscription-plan-icon--${i.tier}`,children:L[i.tier]}),s.jsx("h3",{className:"subscription-plan-name",children:i.name}),s.jsx("p",{className:"subscription-plan-description",children:i.description})]}),s.jsxs("div",{className:"subscription-plan-price",children:[s.jsxs("div",{className:"subscription-plan-price__amount",children:[s.jsxs("span",{className:"subscription-plan-price__value",children:[M(i)," EUR"]}),i.price_monthly>0&&s.jsxs("span",{className:"subscription-plan-price__period",children:["/",p==="yearly"?"Jahr":"Monat"]})]}),p==="yearly"&&j>0&&s.jsxs("p",{className:"subscription-plan-price__savings",children:["Spare ",j,"% gegenuber monatlich"]})]}),s.jsx("ul",{className:"subscription-plan-features",children:i.features.map((u,X)=>s.jsxs("li",{className:"subscription-plan-feature",children:[s.jsx(d,{size:16}),s.jsx("span",{children:u})]},X))}),n?s.jsx("button",{className:"subscription-plan-btn subscription-plan-btn--current",disabled:!0,children:"Aktueller Plan"}):r?s.jsxs(c.button,{onClick:()=>P(i.id),className:`subscription-plan-btn ${i.tier==="pro"?"subscription-plan-btn--popular":"subscription-plan-btn--upgrade"}`,whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsx(y,{size:16}),"Upgrade"]}):s.jsx("button",{onClick:()=>P(i.id),className:"subscription-plan-btn subscription-plan-btn--downgrade",children:"Downgrade"})]},i.id)})})]}),s.jsxs(c.div,{className:"subscription-card",initial:"hidden",animate:"visible",variants:b,transition:{duration:.5,delay:.5},children:[s.jsx("div",{className:"subscription-card__header",children:s.jsxs("div",{className:"subscription-card__title",children:[s.jsx("div",{className:"subscription-card__title-icon",children:s.jsx(ns,{size:20})}),s.jsx("h2",{children:"Feature-Vergleich"})]})}),s.jsx("div",{className:"subscription-comparison",children:s.jsxs("table",{className:"subscription-comparison-table",children:[s.jsx("thead",{children:s.jsxs("tr",{children:[s.jsx("th",{children:"Feature"}),N.map(i=>s.jsx("th",{className:i.tier===t?"subscription-comparison-current":"",children:i.name},i.id))]})}),s.jsxs("tbody",{children:[s.jsxs("tr",{children:[s.jsx("td",{children:"Max. Gins"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"100"}),s.jsx("td",{children:"500"}),s.jsx("td",{children:"Unbegrenzt"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Fotos pro Gin"}),s.jsx("td",{children:"3"}),s.jsx("td",{children:"10"}),s.jsx("td",{children:"25"}),s.jsx("td",{children:"Unbegrenzt"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Team-Mitglieder"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"1"}),s.jsx("td",{children:"5"}),s.jsx("td",{children:"Unbegrenzt"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Statistiken"}),s.jsx("td",{children:"Basis"}),s.jsx("td",{children:"Erweitert"}),s.jsx("td",{children:"Alle"}),s.jsx("td",{children:"Alle + Custom"})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Export"}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"API-Zugang"}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Barcode-Scanner"}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Team-Verwaltung"}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"White-Label"}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(l,{size:16,className:"subscription-comparison-x"})}),s.jsx("td",{children:s.jsx(d,{size:16,className:"subscription-comparison-check"})})]}),s.jsxs("tr",{children:[s.jsx("td",{children:"Support"}),s.jsx("td",{children:"Community"}),s.jsx("td",{children:"E-Mail"}),s.jsx("td",{children:"Priority"}),s.jsx("td",{children:"Dediziert"})]})]})]})})]}),t!=="free"&&s.jsx(c.div,{className:"subscription-card subscription-cancel-card",initial:"hidden",animate:"visible",variants:b,transition:{duration:.5,delay:.6},children:s.jsxs("div",{className:"subscription-cancel-content",children:[s.jsx("div",{className:"subscription-cancel-icon",children:s.jsx(g,{size:22})}),s.jsxs("div",{className:"subscription-cancel-info",children:[s.jsx("h3",{children:"Abonnement kundigen"}),s.jsx("p",{children:"Wenn du dein Abonnement kundigst, wird es am Ende des aktuellen Abrechnungszeitraums beendet. Du behaltst den Zugang bis dahin."}),s.jsx("button",{className:"subscription-cancel-btn",onClick:()=>k(!0),children:"Abonnement kundigen"})]})]})})]}),s.jsx(I,{children:V&&s.jsx(c.div,{className:"subscription-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs(c.div,{className:"subscription-modal",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[s.jsxs("div",{className:"subscription-modal__header",children:[s.jsx("div",{className:"subscription-modal__header-icon subscription-modal__header-icon--danger",children:s.jsx(g,{size:22})}),s.jsx("h3",{children:"Abonnement kundigen"})]}),s.jsxs("div",{className:"subscription-modal__body",children:[s.jsxs("p",{children:["Bist du sicher, dass du dein ",s.jsx("strong",{children:e==null?void 0:e.name})," Abonnement kundigen mochtest?"]}),s.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.85rem",color:"var(--text-secondary)"},children:"Grund fur die Kundigung (optional)"}),s.jsx("textarea",{value:$,onChange:i=>W(i.target.value),placeholder:"Hilf uns, besser zu werden...",className:"subscription-modal__textarea"}),s.jsxs("div",{className:"subscription-modal__alert subscription-modal__alert--warning",children:[s.jsx(g,{size:16}),s.jsx("span",{children:"Nach der Kundigung wirst du zum kostenlosen Plan herabgestuft und verlierst Zugang zu Premium-Funktionen."})]})]}),s.jsxs("div",{className:"subscription-modal__actions",children:[s.jsx("button",{onClick:()=>k(!1),className:"subscription-modal__btn subscription-modal__btn--secondary",disabled:z,children:"Behalten"}),s.jsx("button",{onClick:J,className:"subscription-modal__btn subscription-modal__btn--danger",disabled:z,children:z?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"subscription-spinner"}),"Wird gekundigt..."]}):"Jetzt kundigen"})]})]})})}),s.jsx(I,{children:O&&x&&s.jsx(c.div,{className:"subscription-modal-overlay",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:s.jsxs(c.div,{className:"subscription-modal",initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},children:[s.jsxs("div",{className:"subscription-modal__header",children:[s.jsx("div",{className:"subscription-modal__header-icon subscription-modal__header-icon--info",children:s.jsx(y,{size:22})}),s.jsx("h3",{children:"Plan-Wechsel bestatigen"})]}),s.jsxs("div",{className:"subscription-modal__body",children:[B&&s.jsxs("div",{className:"subscription-error",children:[s.jsx(g,{size:16}),B]}),(()=>{const i=N.find(n=>n.id===x),a=i&&R(i);return s.jsxs(s.Fragment,{children:[s.jsxs("p",{children:["Du wechselst von ",s.jsx("strong",{children:e==null?void 0:e.name})," zu"," ",s.jsx("strong",{children:i==null?void 0:i.name}),"."]}),s.jsxs("div",{className:"subscription-modal__price-box",children:[s.jsxs("div",{className:"subscription-modal__price-row",children:[s.jsx("span",{className:"subscription-modal__price-label",children:"Neuer Preis:"}),s.jsxs("span",{className:"subscription-modal__price-value",children:[M(i)," EUR/",p==="yearly"?"Jahr":"Monat"]})]}),a&&s.jsx("p",{className:"subscription-modal__price-note",children:"Die Differenz wird anteilig fur den aktuellen Zeitraum berechnet."})]}),s.jsxs("div",{className:"subscription-modal__alert subscription-modal__alert--info",children:[s.jsx(D,{size:16}),s.jsx("span",{children:"Du wirst zu PayPal weitergeleitet, um die Zahlung abzuschliessen."})]})]})})()]}),s.jsxs("div",{className:"subscription-modal__actions",children:[s.jsx("button",{onClick:()=>{E(!1),m("")},className:"subscription-modal__btn subscription-modal__btn--secondary",disabled:f,children:"Abbrechen"}),s.jsx("button",{onClick:Y,className:"subscription-modal__btn subscription-modal__btn--primary",disabled:f,children:f?s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"subscription-spinner"}),"Weiterleitung..."]}):s.jsxs(s.Fragment,{children:[s.jsx(D,{size:16}),"Zu PayPal"]})})]})]})})})]})};export{gs as default};
