import{u as j,k as v,a as N,r as c,j as s,W as g,s as f,t as k}from"./index-Dq7p2DR6.js";import{H as _}from"./SubscriptionStatus-D6BgWT4z.js";import{m as t}from"./motion-EK-w8E6l.js";import{L as y}from"./loader-2-BLgRaFfy.js";import{C as w}from"./check-circle-CVznCdrZ.js";import{C as o}from"./check-R9WvdGvo.js";import{A as S}from"./arrow-right-B3-n5iWy.js";import{S as A}from"./sparkles-BiJaVdz3.js";import{A as C}from"./alert-triangle-CNM-d7uF.js";const V=()=>{const i=j(),[u]=v(),{setTenant:l}=N(),[a,e]=c.useState("activating"),[h,p]=c.useState("");c.useEffect(()=>{(async()=>{var m;const d=u.get("subscription_id");if(!d){e("error"),p("Keine Abonnement-ID gefunden. Bitte kontaktiere den Support.");return}try{await f.activate(d);const r=(await k.getCurrent()).data;r.success&&((m=r.data)!=null&&m.tenant)&&l(r.data.tenant),e("success")}catch(b){console.error("Failed to activate subscription:",b),e("error"),p("Das Abonnement konnte nicht aktiviert werden. Bitte kontaktiere den Support.")}})()},[u,l]);const x={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15}}},n={hidden:{scale:0},visible:{scale:1,transition:{type:"spring",stiffness:200,damping:15,delay:.2}}};return s.jsxs("div",{className:"subscription-status-page",children:[s.jsxs("div",{className:"subscription-status-ambient",children:[s.jsx("div",{className:"subscription-status-orb subscription-status-orb--gold"}),s.jsx("div",{className:"subscription-status-orb subscription-status-orb--mint"}),s.jsx("div",{className:"subscription-status-orb subscription-status-orb--green"})]}),s.jsxs(t.div,{className:"subscription-status-card",variants:x,initial:"hidden",animate:"visible",children:[s.jsxs("div",{className:"subscription-status-logo",children:[s.jsx("div",{className:"subscription-status-logo__icon",children:s.jsx(g,{})}),s.jsx("span",{className:"subscription-status-logo__text",children:"GinVault"})]}),a==="activating"&&s.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[s.jsx(t.div,{className:"subscription-status-icon subscription-status-icon--activating",variants:n,initial:"hidden",animate:"visible",children:s.jsx(y,{className:"subscription-status-spinner"})}),s.jsxs("h1",{className:"subscription-status-title",children:["Abonnement wird aktiviert",s.jsxs("span",{className:"subscription-status-dots",children:[s.jsx("span",{className:"subscription-status-dot"}),s.jsx("span",{className:"subscription-status-dot"}),s.jsx("span",{className:"subscription-status-dot"})]})]}),s.jsx("p",{className:"subscription-status-description",children:"Bitte warte einen Moment, während wir dein Abonnement aktivieren."})]}),a==="success"&&s.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[s.jsx(t.div,{className:"subscription-status-icon subscription-status-icon--success subscription-status-pulse",variants:n,initial:"hidden",animate:"visible",children:s.jsx(w,{})}),s.jsxs("div",{className:"subscription-status-badge",children:[s.jsx("span",{className:"subscription-status-badge__dot"}),s.jsx("span",{className:"subscription-status-badge__text",children:"Erfolgreich aktiviert"})]}),s.jsx("h1",{className:"subscription-status-title",children:"Willkommen im Premium!"}),s.jsx("p",{className:"subscription-status-description",children:"Dein Abonnement wurde erfolgreich aktiviert. Du hast jetzt Zugang zu allen Premium-Funktionen."}),s.jsxs("div",{className:"subscription-status-features",children:[s.jsx("p",{className:"subscription-status-features__title",children:"Jetzt freigeschaltet"}),s.jsxs("ul",{className:"subscription-status-features__list",children:[s.jsxs("li",{className:"subscription-status-features__item",children:[s.jsx(o,{}),"Unbegrenzte Gin-Einträge"]}),s.jsxs("li",{className:"subscription-status-features__item",children:[s.jsx(o,{}),"Erweiterte Statistiken & Analysen"]}),s.jsxs("li",{className:"subscription-status-features__item",children:[s.jsx(o,{}),"Premium Support"]})]})]}),s.jsxs("div",{className:"subscription-status-actions",children:[s.jsxs(t.button,{onClick:()=>i("/subscription"),className:"subscription-status-btn subscription-status-btn--primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:["Zum Abonnement",s.jsx(S,{})]}),s.jsxs(t.button,{onClick:()=>i("/gins"),className:"subscription-status-btn subscription-status-btn--secondary",whileHover:{scale:1.02},whileTap:{scale:.98},children:[s.jsx(A,{}),"Sammlung erkunden"]})]})]}),a==="error"&&s.jsxs(t.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.3},children:[s.jsx(t.div,{className:"subscription-status-icon subscription-status-icon--error",variants:n,initial:"hidden",animate:"visible",children:s.jsx(C,{})}),s.jsx("h1",{className:"subscription-status-title",children:"Aktivierung fehlgeschlagen"}),s.jsx("p",{className:"subscription-status-description",children:h}),s.jsx("div",{className:"subscription-status-actions",children:s.jsx(t.button,{onClick:()=>i("/subscription"),className:"subscription-status-btn subscription-status-btn--primary",whileHover:{scale:1.02},whileTap:{scale:.98},children:"Zurück zum Abonnement"})}),s.jsx("div",{className:"subscription-status-divider",children:s.jsxs("div",{className:"subscription-status-support",children:[s.jsx("p",{className:"subscription-status-support__text",children:"Das Problem besteht weiterhin?"}),s.jsxs("a",{href:"mailto:support@gin-collection.local",className:"subscription-status-support__link",children:[s.jsx(_,{}),"Support kontaktieren"]})]})})]})]})]})};export{V as default};
