import{c as p,u as g,a as G,r as h,j as a,S as y,W as _,L as c}from"./index-Dq7p2DR6.js";import{u as L}from"./ginStore-DEzGyET3.js";import{m as l}from"./motion-EK-w8E6l.js";import{S as F}from"./sparkles-BiJaVdz3.js";import{B as E}from"./bell-DRgBHISg.js";import{T as b,P as N}from"./trending-up-BB2FNywe.js";import{S as f}from"./star-Bdosqaaw.js";import{G as S}from"./globe-BCJQpqhg.js";import{S as D}from"./search-BiPIr_lI.js";import{A as M}from"./index-DuCggoYX.js";import{D as A}from"./droplets-DOTxJY_J.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=p("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $=p("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B=p("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]),x=({icon:s,label:e,value:r,suffix:o="",prefix:m="",delay:j=0,accent:i=!1})=>a.jsxs(l.div,{className:`stat-card ${i?"stat-card--accent":""}`,initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:j,ease:[.22,1,.36,1]},children:[a.jsx("div",{className:"stat-card__icon",children:a.jsx(s,{size:22})}),a.jsxs("div",{className:"stat-card__content",children:[a.jsx("span",{className:"stat-card__label",children:e}),a.jsxs("span",{className:"stat-card__value",children:[m,a.jsx("span",{className:"stat-card__number",children:r}),o]})]}),a.jsx("div",{className:"stat-card__glow"})]}),H=({level:s})=>{const e=()=>s>70?"var(--mint)":s>30?"var(--gold)":"var(--copper)";return a.jsxs("div",{className:"fill-level",children:[a.jsx("div",{className:"fill-level__track",children:a.jsx(l.div,{className:"fill-level__bar",initial:{height:0},animate:{height:`${s}%`},transition:{duration:1,delay:.3,ease:[.22,1,.36,1]},style:{backgroundColor:e()}})}),a.jsxs("span",{className:"fill-level__text",style:{color:e()},children:[s,"%"]})]})},P=({rating:s})=>a.jsx("div",{className:"rating-stars",children:[...Array(5)].map((e,r)=>a.jsx(f,{size:12,className:r<s?"star--filled":"star--empty",fill:r<s?"var(--gold)":"none",stroke:r<s?"var(--gold)":"var(--glass-border)"},r))}),R=({gin:s,index:e})=>{const r=g();return a.jsxs(l.article,{className:"gin-card",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1*e+.4,ease:[.22,1,.36,1]},whileHover:{y:-8,transition:{duration:.3}},onClick:()=>r(`/gins/${s.uuid||s.id}`),children:[a.jsxs("div",{className:"gin-card__image",children:[s.primary_photo_url?a.jsx("img",{src:s.primary_photo_url,alt:s.name,style:{width:"100%",height:"100%",objectFit:"cover"}}):a.jsx("div",{className:"gin-card__bottle",children:a.jsx(_,{size:48,strokeWidth:1})}),a.jsx("div",{className:"gin-card__type-badge",children:s.gin_type||"Gin"})]}),a.jsxs("div",{className:"gin-card__content",children:[a.jsxs("div",{className:"gin-card__header",children:[a.jsx("h3",{className:"gin-card__name",children:s.name}),a.jsx("span",{className:"gin-card__brand",children:s.brand})]}),a.jsxs("div",{className:"gin-card__details",children:[a.jsxs("div",{className:"gin-card__meta",children:[a.jsxs("span",{className:"gin-card__country",children:[a.jsx(S,{size:12}),s.country||"Unbekannt"]}),a.jsxs("span",{className:"gin-card__abv",children:[s.abv,"% vol"]})]}),a.jsx(P,{rating:s.rating||0})]}),a.jsxs("div",{className:"gin-card__footer",children:[a.jsxs("span",{className:"gin-card__price",children:["€",(s.price||0).toFixed(2)]}),a.jsx(H,{level:s.fill_level||100})]})]}),a.jsx("div",{className:"gin-card__shine"})]})},T=()=>a.jsxs(l.button,{className:"scanner-btn",whileHover:{scale:1.05},whileTap:{scale:.95},initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{duration:.5,delay:1},title:"Barcode scannen",children:[a.jsx("span",{className:"scanner-btn__ring"}),a.jsx("span",{className:"scanner-btn__ring scanner-btn__ring--delayed"}),a.jsx(B,{size:28})]}),aa=()=>{var u;const s=g(),{stats:e,fetchStats:r,gins:o,fetchGins:m,isLoading:j}=L(),{user:i}=G(),[d,z]=h.useState(""),[k,C]=h.useState([]);h.useEffect(()=>{r(),m({limit:12,sort:"created_at"})},[r,m]),h.useEffect(()=>{const n=o.map(t=>({id:t.id,uuid:t.uuid,name:t.name,brand:t.brand||"",country:t.country||"",abv:t.abv||0,fill_level:t.fill_level||100,rating:t.rating||0,price:t.price||0,gin_type:t.gin_type||"Gin",primary_photo_url:t.primary_photo_url}));C(n)},[o]);const v=k.filter(n=>n.name.toLowerCase().includes(d.toLowerCase())||n.brand.toLowerCase().includes(d.toLowerCase())||n.country.toLowerCase().includes(d.toLowerCase())),w=()=>{var n;return i!=null&&i.first_name&&(i!=null&&i.last_name)?`${i.first_name[0]}${i.last_name[0]}`.toUpperCase():((n=i==null?void 0:i.email)==null?void 0:n.substring(0,2).toUpperCase())||"GV"};return a.jsxs("div",{className:"dashboard",children:[a.jsxs("div",{className:"dashboard__ambient",children:[a.jsx("div",{className:"ambient-orb ambient-orb--1"}),a.jsx("div",{className:"ambient-orb ambient-orb--2"}),a.jsx("div",{className:"ambient-orb ambient-orb--3"})]}),a.jsxs(l.header,{className:"dashboard__header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[a.jsxs("div",{className:"header__brand",children:[a.jsx("div",{className:"header__logo",children:a.jsx(F,{size:24})}),a.jsxs("div",{className:"header__title",children:[a.jsx("h1",{children:"GinVault"}),a.jsx("span",{children:"Premium Collection"})]})]}),a.jsxs("div",{className:"header__actions",children:[a.jsxs("button",{className:"header__icon-btn",children:[a.jsx(E,{size:20}),a.jsx("span",{className:"header__notification-dot"})]}),a.jsx("button",{className:"header__icon-btn",onClick:()=>s("/settings"),children:a.jsx(y,{size:20})}),a.jsx("div",{className:"header__avatar",children:a.jsx("span",{children:w()})})]})]}),a.jsxs("section",{className:"dashboard__stats",children:[a.jsx(x,{icon:b,label:"Gesamtwert",value:((u=e==null?void 0:e.total_value)==null?void 0:u.toLocaleString("de-DE",{minimumFractionDigits:2}))||"0,00",prefix:"€",delay:.1,accent:!0}),a.jsx(x,{icon:_,label:"Flaschen",value:(e==null?void 0:e.total_gins)||0,delay:.2}),a.jsx(x,{icon:f,label:"Favoriten",value:(e==null?void 0:e.favorite_count)||0,delay:.3}),a.jsx(x,{icon:S,label:"Länder",value:e!=null&&e.by_country?Object.keys(e.by_country).length:0,delay:.4})]}),a.jsxs(l.section,{className:"dashboard__toolbar",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},children:[a.jsxs("div",{className:"search-bar",children:[a.jsx(D,{size:18,className:"search-bar__icon"}),a.jsx("input",{type:"text",placeholder:"Suche nach Gin, Marke oder Land...",value:d,onChange:n=>z(n.target.value),className:"search-bar__input"})]}),a.jsxs("button",{className:"filter-btn",children:[a.jsx($,{size:18}),a.jsx("span",{children:"Filter"})]}),a.jsxs(c,{to:"/gins/new",className:"add-btn",children:[a.jsx(N,{size:18}),a.jsx("span",{children:"Hinzufügen"})]})]}),a.jsxs(l.div,{className:"dashboard__section-header",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.4},children:[a.jsx("h2",{children:"Meine Sammlung"}),a.jsxs(c,{to:"/gins",className:"view-all-btn",children:["Alle anzeigen",a.jsx(U,{size:16})]})]}),a.jsx("section",{className:"dashboard__collection",children:a.jsx(M,{mode:"wait",children:j?a.jsxs(l.div,{className:"loading-state",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:[a.jsx("div",{className:"loading-spinner"}),a.jsx("span",{children:"Lade Sammlung..."})]}):v.length>0?a.jsx(l.div,{className:"gin-grid",children:v.slice(0,8).map((n,t)=>a.jsx(R,{gin:n,index:t},n.id))}):a.jsxs(l.div,{className:"loading-state",initial:{opacity:0},animate:{opacity:1},children:[a.jsx(_,{size:48,style:{opacity:.3}}),a.jsx("span",{children:d?"Keine Gins gefunden":"Noch keine Gins in der Sammlung"}),!d&&a.jsxs(c,{to:"/gins/new",className:"add-btn",style:{marginTop:"16px"},children:[a.jsx(N,{size:18}),a.jsx("span",{children:"Ersten Gin hinzufügen"})]})]})})}),a.jsx(T,{}),a.jsxs(l.nav,{className:"dashboard__nav",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.8},children:[a.jsxs(c,{to:"/",className:"nav-item nav-item--active",children:[a.jsx(_,{size:22}),a.jsx("span",{children:"Sammlung"})]}),a.jsxs(c,{to:"/cocktails",className:"nav-item",children:[a.jsx(A,{size:22}),a.jsx("span",{children:"Cocktails"})]}),a.jsxs(c,{to:"/statistics",className:"nav-item",children:[a.jsx(b,{size:22}),a.jsx("span",{children:"Statistik"})]}),a.jsxs(c,{to:"/settings",className:"nav-item",children:[a.jsx(y,{size:22}),a.jsx("span",{children:"Einstellungen"})]})]})]})};export{aa as default};
