import{c as p,r as o,j as s,W as v,L as j}from"./index-Dq7p2DR6.js";import{u as A}from"./ginStore-DEzGyET3.js";import{m as a}from"./motion-EK-w8E6l.js";import{P as f,T as V}from"./trending-up-BB2FNywe.js";import{D as y}from"./droplets-DOTxJY_J.js";import{S as C}from"./search-BiPIr_lI.js";import{A as F}from"./index-DuCggoYX.js";import{S as L}from"./star-Bdosqaaw.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M=p("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=p("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H=p("Package",[["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}],["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]),Q=()=>{const{gins:e,total:N,fetchGins:m,isLoading:b}=A(),[h,k]=o.useState(""),[l,g]=o.useState("all");o.useEffect(()=>{m({filter:l,limit:50})},[l]);const S=i=>{i.preventDefault(),h.trim()?m({q:h,limit:50}):m({filter:l,limit:50})},c=o.useMemo(()=>{const i=e.reduce((t,x)=>t+(x.price||0),0),r=e.length>0?e.reduce((t,x)=>t+(x.rating||0),0)/e.filter(t=>t.rating).length:0,_=e.filter(t=>(t.fill_level||0)>0).length,n=e.filter(t=>t.is_favorite).length;return{totalValue:i,avgRating:r,availableCount:_,favoriteCount:n}},[e]),u={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},w={hidden:{opacity:0,y:30,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{type:"spring",stiffness:100,damping:15}}},d={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},G=i=>{const r=[],_=i||0;for(let n=1;n<=5;n++)r.push(s.jsx(L,{className:`gin-list-card__star ${n<=_?"gin-list-card__star--filled":""}`},n));return r};return s.jsxs("div",{className:"gin-list-page",children:[s.jsxs("div",{className:"gin-list-ambient",children:[s.jsx("div",{className:"gin-list-orb gin-list-orb--gold"}),s.jsx("div",{className:"gin-list-orb gin-list-orb--mint"}),s.jsx("div",{className:"gin-list-orb gin-list-orb--green"})]}),s.jsxs("div",{className:"gin-list-content",children:[s.jsxs(a.div,{className:"gin-list-header",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:[s.jsxs("div",{className:"gin-list-header__info",children:[s.jsxs("h1",{className:"gin-list-header__title",children:[s.jsx("div",{className:"gin-list-header__icon",children:s.jsx(v,{})}),"Meine Sammlung"]}),s.jsxs("p",{className:"gin-list-header__subtitle",children:[s.jsx("span",{className:"gin-list-header__count",children:N})," Gins in deinem Tresor"]})]}),s.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(j,{to:"/gins/new",className:"gin-list-add-btn",children:[s.jsx(f,{}),"Gin hinzufügen"]})})]}),e.length>0&&s.jsxs(a.div,{className:"gin-list-stats",initial:"hidden",animate:"visible",variants:u,children:[s.jsxs(a.div,{className:"gin-list-stat",variants:d,children:[s.jsx("div",{className:"gin-list-stat__icon",children:s.jsx(H,{})}),s.jsxs("div",{className:"gin-list-stat__info",children:[s.jsx("span",{className:"gin-list-stat__value",children:N}),s.jsx("span",{className:"gin-list-stat__label",children:"Flaschen"})]})]}),s.jsxs(a.div,{className:"gin-list-stat",variants:d,children:[s.jsx("div",{className:"gin-list-stat__icon",children:s.jsx(V,{})}),s.jsxs("div",{className:"gin-list-stat__info",children:[s.jsxs("span",{className:"gin-list-stat__value",children:[c.totalValue.toFixed(0),"€"]}),s.jsx("span",{className:"gin-list-stat__label",children:"Gesamtwert"})]})]}),s.jsxs(a.div,{className:"gin-list-stat",variants:d,children:[s.jsx("div",{className:"gin-list-stat__icon gin-list-stat__icon--mint",children:s.jsx(y,{})}),s.jsxs("div",{className:"gin-list-stat__info",children:[s.jsx("span",{className:"gin-list-stat__value",children:c.availableCount}),s.jsx("span",{className:"gin-list-stat__label",children:"Verfügbar"})]})]}),s.jsxs(a.div,{className:"gin-list-stat",variants:d,children:[s.jsx("div",{className:"gin-list-stat__icon",children:s.jsx(M,{})}),s.jsxs("div",{className:"gin-list-stat__info",children:[s.jsx("span",{className:"gin-list-stat__value",children:c.avgRating?c.avgRating.toFixed(1):"-"}),s.jsx("span",{className:"gin-list-stat__label",children:"Ø Bewertung"})]})]})]}),s.jsx(a.div,{className:"gin-list-filters",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},children:s.jsxs("div",{className:"gin-list-filters__row",children:[s.jsxs("form",{onSubmit:S,className:"gin-list-search",children:[s.jsx("input",{type:"text",value:h,onChange:i=>k(i.target.value),placeholder:"Gins durchsuchen...",className:"gin-list-search__input"}),s.jsx("div",{className:"gin-list-search__icon",children:s.jsx(C,{})})]}),s.jsxs("div",{className:"gin-list-filter-buttons",children:[s.jsx("button",{onClick:()=>g("all"),className:`gin-list-filter-btn ${l==="all"?"gin-list-filter-btn--active":""}`,children:"Alle"}),s.jsx("button",{onClick:()=>g("available"),className:`gin-list-filter-btn ${l==="available"?"gin-list-filter-btn--active":""}`,children:"Verfügbar"}),s.jsx("button",{onClick:()=>g("favorite"),className:`gin-list-filter-btn ${l==="favorite"?"gin-list-filter-btn--active":""}`,children:"Favoriten"})]})]})}),b?s.jsxs("div",{className:"gin-list-loading",children:[s.jsx("div",{className:"gin-list-loading__spinner"}),s.jsx("p",{className:"gin-list-loading__text",children:"Lade deine Sammlung..."})]}):e.length>0?s.jsxs(s.Fragment,{children:[s.jsxs("p",{className:"gin-list-results",children:[s.jsx("span",{className:"gin-list-results__count",children:e.length})," Ergebnisse"]}),s.jsx(a.div,{className:"gin-list-grid",initial:"hidden",animate:"visible",variants:u,children:s.jsx(F,{mode:"popLayout",children:e.map((i,r)=>s.jsx(a.div,{variants:w,layout:!0,whileHover:{y:-8},transition:{type:"spring",stiffness:300,damping:20},children:s.jsxs(j,{to:`/gins/${i.id}`,className:"gin-list-card",children:[s.jsxs("div",{className:"gin-list-card__image-container",children:[i.primary_photo_url?s.jsx("img",{src:i.primary_photo_url,alt:i.name,className:"gin-list-card__image"}):s.jsx("div",{className:"gin-list-card__placeholder",children:s.jsx(v,{})}),i.fill_level!==void 0&&i.fill_level>0&&s.jsxs("div",{className:"gin-list-card__fill-badge",children:[s.jsx(y,{}),i.fill_level,"%"]}),i.is_favorite&&s.jsx("div",{className:"gin-list-card__favorite-badge",children:s.jsx(E,{})})]}),s.jsxs("div",{className:"gin-list-card__content",children:[s.jsx("h3",{className:"gin-list-card__name",children:i.name}),s.jsxs("p",{className:"gin-list-card__brand",children:[i.brand,i.country&&s.jsxs(s.Fragment,{children:[s.jsx("span",{className:"gin-list-card__brand-separator"}),i.country]})]}),s.jsxs("div",{className:"gin-list-card__footer",children:[s.jsx("div",{className:"gin-list-card__rating",children:i.rating?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"gin-list-card__stars",children:G(i.rating)}),s.jsxs("span",{className:"gin-list-card__rating-value",children:[i.rating,"/5"]})]}):s.jsx("span",{className:"gin-list-card__rating-value",style:{color:"var(--text-muted)"},children:"Keine Bewertung"})}),i.abv&&s.jsxs("span",{className:"gin-list-card__abv",children:[i.abv,"%"]}),!i.abv&&i.price&&s.jsxs("span",{className:"gin-list-card__price",children:[i.price,"€"]})]})]})]})},i.id))})})]}):s.jsxs(a.div,{className:"gin-list-empty",initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5},children:[s.jsx("div",{className:"gin-list-empty__icon",children:s.jsx(v,{})}),s.jsx("h3",{className:"gin-list-empty__title",children:"Noch keine Gins"}),s.jsx("p",{className:"gin-list-empty__text",children:"Starte deine Sammlung und füge deinen ersten Gin hinzu"}),s.jsx(a.div,{whileHover:{scale:1.02},whileTap:{scale:.98},children:s.jsxs(j,{to:"/gins/new",className:"gin-list-empty__btn",children:[s.jsx(f,{}),"Ersten Gin hinzufügen"]})})]})]})]})};export{Q as default};
