import{u as M,a as A,r as m,j as e,W as E,L as u,g as F}from"./index-Dq7p2DR6.js";import{m as n}from"./motion-EK-w8E6l.js";import{S as L}from"./sparkles-BiJaVdz3.js";import{C as b}from"./check-R9WvdGvo.js";import{A as $}from"./alert-circle-DRaOH51V.js";import{B as v}from"./building-2-Dt3MgnjI.js";import{G as _}from"./globe-BCJQpqhg.js";import{M as y,L as w,E as R}from"./mail-jdAMvOAp.js";import{E as D}from"./eye-off-DNtvnz7x.js";import{S as z}from"./shield-DBx4bEY8.js";import{U as d}from"./user-CUOY7Yyd.js";import{Z as G}from"./zap-C7iQPdWc.js";import{A as P}from"./arrow-right-B3-n5iWy.js";const Z=i=>{if(!i)return{strength:"weak",label:""};let a=0;return i.length>=8&&a++,i.length>=12&&a++,/[A-Z]/.test(i)&&a++,/[a-z]/.test(i)&&a++,/[0-9]/.test(i)&&a++,/[^A-Za-z0-9]/.test(i)&&a++,a<=2?{strength:"weak",label:"Schwach"}:a<=3?{strength:"medium",label:"Mittel"}:a<=4?{strength:"strong",label:"Stark"}:{strength:"very-strong",label:"Sehr stark"}},Y=()=>{const i=M(),a=A(o=>o.register),[s,h]=m.useState({tenant_name:"",subdomain:"",email:"",password:"",first_name:"",last_name:""}),[p,S]=m.useState(!1),[x,j]=m.useState(""),[r,N]=m.useState(!1),g=m.useMemo(()=>Z(s.password),[s.password]),t=m.useMemo(()=>!s.tenant_name||!s.subdomain?1:!s.email||!s.password?2:3,[s]),l=o=>{const{name:c,value:f}=o.target;if(c==="subdomain"){const k=f.toLowerCase().replace(/[^a-z0-9-]/g,"");h({...s,[c]:k});return}h({...s,[c]:f})},C=async o=>{o.preventDefault(),j(""),N(!0);try{await a(s),i("/dashboard")}catch(c){j(F(c))}finally{N(!1)}};return e.jsxs("div",{className:"register-page",children:[e.jsxs("div",{className:"register-page__ambient",children:[e.jsx("div",{className:"register-ambient-orb register-ambient-orb--1"}),e.jsx("div",{className:"register-ambient-orb register-ambient-orb--2"}),e.jsx("div",{className:"register-ambient-orb register-ambient-orb--3"})]}),e.jsx("div",{className:"register-page__pattern"}),e.jsxs(n.div,{className:"register-card",initial:{opacity:0,y:30,scale:.95},animate:{opacity:1,y:0,scale:1},transition:{duration:.6,ease:[.22,1,.36,1]},children:[e.jsxs(n.div,{className:"register-header",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.1},children:[e.jsx(n.div,{className:"register-logo",initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200,damping:15,delay:.2},children:e.jsx(L,{size:32})}),e.jsx("h1",{className:"register-title",children:"GinVault"}),e.jsx("p",{className:"register-subtitle",children:"Erstelle deine Premium-Sammlung"})]}),e.jsxs(n.div,{className:"register-steps",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.15},children:[e.jsx("div",{className:`register-step ${t>=1?"register-step--active":""} ${t>1?"register-step--completed":""}`,children:e.jsx("div",{className:"register-step__dot",children:t>1?e.jsx(b,{size:14}):"1"})}),e.jsx("div",{className:"register-step__line",style:{background:t>1?"var(--mint)":void 0}}),e.jsx("div",{className:`register-step ${t>=2?"register-step--active":""} ${t>2?"register-step--completed":""}`,children:e.jsx("div",{className:"register-step__dot",children:t>2?e.jsx(b,{size:14}):"2"})}),e.jsx("div",{className:"register-step__line",style:{background:t>2?"var(--mint)":void 0}}),e.jsx("div",{className:`register-step ${t>=3?"register-step--active":""}`,children:e.jsx("div",{className:"register-step__dot",children:"3"})})]}),x&&e.jsxs(n.div,{className:"register-error",initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},children:[e.jsx($,{size:18}),e.jsx("span",{children:x})]}),e.jsxs(n.form,{className:"register-form",onSubmit:C,initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2},children:[e.jsxs("div",{className:"register-form-group",children:[e.jsxs("label",{className:"register-form-label",htmlFor:"tenant_name",children:[e.jsx(v,{size:14}),"Name deiner Sammlung"]}),e.jsxs("div",{className:"register-input-wrapper",children:[e.jsx("input",{id:"tenant_name",type:"text",name:"tenant_name",value:s.tenant_name,onChange:l,className:"register-input",placeholder:"Meine Gin-Sammlung",required:!0,disabled:r}),e.jsx(v,{size:16,className:"register-input-icon"})]})]}),e.jsxs("div",{className:"register-form-group",children:[e.jsxs("label",{className:"register-form-label",htmlFor:"subdomain",children:[e.jsx(_,{size:14}),"Subdomain"]}),e.jsxs("div",{className:"register-subdomain-group",children:[e.jsxs("div",{className:"register-input-wrapper",style:{flex:1},children:[e.jsx("input",{id:"subdomain",type:"text",name:"subdomain",value:s.subdomain,onChange:l,className:"register-input",placeholder:"meine-sammlung",required:!0,disabled:r,pattern:"[a-z0-9-]+",style:{paddingRight:"14px"}}),e.jsx(_,{size:16,className:"register-input-icon"})]}),e.jsx("span",{className:"register-subdomain-suffix",children:".ginvault.app"})]})]}),e.jsxs("div",{className:"register-form-group",children:[e.jsxs("label",{className:"register-form-label",htmlFor:"email",children:[e.jsx(y,{size:14}),"E-Mail Adresse"]}),e.jsxs("div",{className:"register-input-wrapper",children:[e.jsx("input",{id:"email",type:"email",name:"email",value:s.email,onChange:l,className:"register-input",placeholder:"name@beispiel.de",required:!0,disabled:r,autoComplete:"email"}),e.jsx(y,{size:16,className:"register-input-icon"})]})]}),e.jsxs("div",{className:"register-form-group",children:[e.jsxs("label",{className:"register-form-label",htmlFor:"password",children:[e.jsx(w,{size:14}),"Passwort"]}),e.jsxs("div",{className:"register-input-wrapper",children:[e.jsx("input",{id:"password",type:p?"text":"password",name:"password",value:s.password,onChange:l,className:"register-input",placeholder:"Mindestens 8 Zeichen",required:!0,minLength:8,disabled:r,autoComplete:"new-password",style:{paddingRight:"48px"}}),e.jsx(w,{size:16,className:"register-input-icon"}),e.jsx("button",{type:"button",className:"register-password-toggle",onClick:()=>S(!p),tabIndex:-1,children:p?e.jsx(D,{size:18}):e.jsx(R,{size:18})})]}),s.password&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:`password-strength password-strength--${g.strength}`,children:[e.jsx("div",{className:"password-strength__bar"}),e.jsx("div",{className:"password-strength__bar"}),e.jsx("div",{className:"password-strength__bar"}),e.jsx("div",{className:"password-strength__bar"})]}),e.jsxs("span",{className:`password-hint password-hint--${g.strength}`,children:[e.jsx(z,{size:12}),g.label]})]})]}),e.jsxs("div",{className:"register-form-row",children:[e.jsxs("div",{className:"register-form-group",children:[e.jsxs("label",{className:"register-form-label",htmlFor:"first_name",children:[e.jsx(d,{size:14}),"Vorname",e.jsx("span",{className:"register-form-label__optional",children:"(optional)"})]}),e.jsxs("div",{className:"register-input-wrapper",children:[e.jsx("input",{id:"first_name",type:"text",name:"first_name",value:s.first_name,onChange:l,className:"register-input",placeholder:"Max",disabled:r,autoComplete:"given-name"}),e.jsx(d,{size:16,className:"register-input-icon"})]})]}),e.jsxs("div",{className:"register-form-group",children:[e.jsxs("label",{className:"register-form-label",htmlFor:"last_name",children:[e.jsx(d,{size:14}),"Nachname",e.jsx("span",{className:"register-form-label__optional",children:"(optional)"})]}),e.jsxs("div",{className:"register-input-wrapper",children:[e.jsx("input",{id:"last_name",type:"text",name:"last_name",value:s.last_name,onChange:l,className:"register-input",placeholder:"Mustermann",disabled:r,autoComplete:"family-name"}),e.jsx(d,{size:16,className:"register-input-icon"})]})]})]}),e.jsxs("div",{className:"register-features",children:[e.jsxs("div",{className:"register-feature",children:[e.jsx(E,{size:14}),e.jsx("span",{children:"Bis zu 5 Gins kostenlos"})]}),e.jsxs("div",{className:"register-feature",children:[e.jsx(z,{size:14}),e.jsx("span",{children:"Sichere Datenspeicherung"})]}),e.jsxs("div",{className:"register-feature",children:[e.jsx(G,{size:14}),e.jsx("span",{children:"Jederzeit upgraden"})]})]}),e.jsx(n.button,{type:"submit",className:"register-submit",disabled:r,whileHover:{scale:r?1:1.02},whileTap:{scale:r?1:.98},children:e.jsx("span",{className:"register-submit__content",children:r?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"register-spinner"}),e.jsx("span",{children:"Account wird erstellt..."})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"Kostenlos registrieren"}),e.jsx(P,{size:18})]})})}),e.jsxs("p",{className:"register-terms",children:["Mit der Registrierung akzeptierst du unsere"," ",e.jsx(u,{to:"/terms",children:"Nutzungsbedingungen"})," und"," ",e.jsx(u,{to:"/privacy",children:"Datenschutzrichtlinie"}),"."]})]}),e.jsx(n.div,{className:"register-footer",initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.3},children:e.jsxs("p",{className:"register-footer__text",children:["Bereits einen Account?"," ",e.jsx(u,{to:"/login",className:"register-footer__link",children:"Jetzt anmelden"})]})})]})]})};export{Y as default};
